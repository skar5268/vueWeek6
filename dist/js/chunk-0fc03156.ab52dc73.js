(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fc03156"],{"159d":function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),c={class:"container mt-5"},l={class:"row justify-content-center"},s={class:"col-10"},d={class:"table table-striped table-borderless table-hover align-middle mb-5"},i=Object(r["f"])("thead",{class:"text-center"},[Object(r["f"])("tr",null,[Object(r["f"])("th",{scope:"col"},"訂單編號"),Object(r["f"])("th",{scope:"col"},"聯絡人"),Object(r["f"])("th",{scope:"col"},"訂單品項"),Object(r["f"])("th",{scope:"col"},"訂單日期"),Object(r["f"])("th",{scope:"col"},"訂單狀態"),Object(r["f"])("th",{scope:"col",colspan:"1"})])],-1),n={class:"text-align-center"},b={class:"text-align-center"},o=Object(r["f"])("br",null,null,-1),O={class:"text-align-center"},j={class:"modal fade",tabindex:"-1",id:"orderModal",ref:"orderModal"},p={class:"modal fade",tabindex:"-1",id:"errorModal",ref:"errorModal"};function f(e,t,a,f,u,g){var m=Object(r["w"])("page-navigation"),h=Object(r["w"])("order-detail-modal"),x=Object(r["w"])("error-alert-modal");return Object(r["r"])(),Object(r["d"])(r["a"],null,[Object(r["f"])("div",c,[Object(r["f"])("div",l,[Object(r["f"])("div",s,[Object(r["f"])("table",d,[i,Object(r["f"])("tbody",null,[(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(u.orders,(function(e){return Object(r["r"])(),Object(r["d"])("tr",{key:e.id,class:"listContent"},[Object(r["f"])("td",n,Object(r["z"])(e.id),1),Object(r["f"])("td",b,[Object(r["e"])(Object(r["z"])(e.user.name)+" ",1),o,Object(r["e"])(" "+Object(r["z"])(e.user.email),1)]),Object(r["f"])("td",null,Object(r["z"])(e.user.address),1),Object(r["f"])("td",null,Object(r["z"])(new Date(1e3*e.create_at).getFullYear())+" / "+Object(r["z"])(new Date(1e3*e.create_at).getMonth()+1)+" / "+Object(r["z"])(new Date(1e3*e.create_at).getDate()),1),Object(r["f"])("td",null,Object(r["z"])(e.is_paid?"已付款":"未付款"),1),Object(r["f"])("td",O,[Object(r["f"])("button",{class:"btn btn-primary",onClick:Object(r["J"])((function(t){return g.openModal("detail","",e)}),["prevent"])}," 詳細 ",8,["onClick"])])])})),128))])]),Object(r["f"])(m,{"total-page":u.pagination.total_pages,"current-page":u.pagination.current_page,onUpdate:g.getOrders},null,8,["total-page","current-page","onUpdate"])])])]),Object(r["f"])("div",j,[Object(r["f"])(h,{"new-order":u.newOrder},null,8,["new-order"])],512),Object(r["f"])("div",p,[Object(r["f"])(x,{"alert-title":u.alertTitle,"alert-message":u.alertMessage},null,8,["alert-title","alert-message"])],512)],64)}var u=a("5530"),g=(a("99af"),a("bc3a")),m=a.n(g),h=a("7b17"),x=a("66dd"),w={class:"modal-dialog modal-lg  modal-dialog-centered"},z={class:"modal-content border-0 border-bottom border-primary border-5"},v={class:"d-flex justify-content-between align-items-center\n           flex-column p-5 mb-0 text-warning",role:"alert"},y={class:"list-group list-group-flush w-100 text-start"},M={class:"list-group-item py-3 d-flex"},_=Object(r["f"])("h5",{class:"px-2 mb-0"}," 訂單編號 ",-1),D={class:"px-3"},k={class:"list-group-item py-3 d-flex"},C=Object(r["f"])("h5",{class:"px-2 mb-0"}," 訂單日期 ",-1),F={class:"px-3"},J={class:"list-group-item py-3 d-flex"},Y=Object(r["f"])("h5",{class:"px-2 mb-0"}," 付款狀態 ",-1),T={class:"px-3"},U={class:"list-group-item py-3 d-flex"},$=Object(r["f"])("h5",{class:"px-2 mb-0"}," 留言資訊 ",-1),A={class:"px-3"},E={key:0,class:"list-group-item py-3 d-flex disabled"},N=Object(r["f"])("h5",{class:"px-2 mb-0"},"付款日期",-1),S={key:1,class:"list-group-item py-3 d-flex"},q=Object(r["f"])("h5",{class:"px-2 mb-0"},"付款日期",-1),B={class:"px-3"},G={class:"list-group-item py-3 d-flex"},H=Object(r["f"])("h5",{class:"px-2 mb-0"},"購買產品",-1),I={class:"px-3"},K={class:"list-group-item py-3 d-flex"},L=Object(r["f"])("h5",{class:"px-2 mb-0"}," 消費金額 ",-1),P={class:"px-3"},Q={class:"list-group-item py-3 d-flex"},R=Object(r["f"])("h5",{class:"px-2 mb-0"}," 聯絡資訊 ",-1),V={class:"list-group list-group-flush text-start"},W={class:"list-group-item border-0 pt-0"},X={class:"list-group-item border-0"},Z={class:"list-group-item border-0"},ee={class:"list-group-item border-0"},te={class:"list-group-item py-3 d-flex"},ae=Object(r["f"])("h5",{class:"px-2 mb-0"}," 付款方式 ",-1),re={class:"px-3"},ce=Object(r["f"])("button",{class:"btn btn-primary w-25 mt-2 mb-1","data-bs-dismiss":"modal","aria-label":"Close"}," 確認 ",-1);function le(e,t,a,c,l,s){return Object(r["r"])(),Object(r["d"])("div",w,[Object(r["f"])("div",z,[Object(r["f"])("div",v,[Object(r["f"])("ul",y,[Object(r["f"])("li",M,[_,Object(r["f"])("span",D,Object(r["z"])(l.editOrder.id),1)]),Object(r["f"])("li",k,[C,Object(r["f"])("span",F,Object(r["z"])(new Date(1e3*l.editOrder.create_at).getFullYear())+" / "+Object(r["z"])(new Date(1e3*l.editOrder.create_at).getMonth()+1)+" / "+Object(r["z"])(new Date(1e3*l.editOrder.create_at).getDate()),1)]),Object(r["f"])("li",J,[Y,Object(r["f"])("span",T,Object(r["z"])(l.editOrder.is_paid?"已付款":"未付款"),1)]),Object(r["f"])("li",U,[$,Object(r["f"])("span",A,Object(r["z"])(l.editOrder.message),1)]),l.editOrder.paid_date?(Object(r["r"])(),Object(r["d"])("li",S,[q,Object(r["f"])("span",B,Object(r["z"])(new Date(1e3*l.editOrder.paid_date).getFullYear())+" / "+Object(r["z"])(new Date(1e3*l.editOrder.paid_date).getMonth()+1)+" / "+Object(r["z"])(new Date(1e3*l.editOrder.paid_date).getDate()),1)])):(Object(r["r"])(),Object(r["d"])("li",E,[N])),Object(r["f"])("li",G,[H,Object(r["f"])("span",I,[(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(l.editOrder.products,(function(e){return Object(r["r"])(),Object(r["d"])("p",{key:e.id},Object(r["z"])(e.product.title)+" * "+Object(r["z"])(e.product.num),1)})),128))])]),Object(r["f"])("li",K,[L,Object(r["f"])("span",P,Object(r["z"])(l.editOrder.total),1)]),Object(r["f"])("li",Q,[R,Object(r["f"])("ul",V,[Object(r["f"])("li",W,"姓名："+Object(r["z"])(l.editOrder.user.name),1),Object(r["f"])("li",X,"E-mail："+Object(r["z"])(l.editOrder.user.email),1),Object(r["f"])("li",Z,"聯絡地址："+Object(r["z"])(l.editOrder.user.address),1),Object(r["f"])("li",ee,"連絡電話："+Object(r["z"])(l.editOrder.user.tel),1)])]),Object(r["f"])("li",te,[ae,Object(r["f"])("span",re,Object(r["z"])(l.editOrder.user.payment),1)])]),ce])])])}var se={data:function(){return{editOrder:{user:{}}}},watch:{newOrder:function(){this.editOrder=Object(u["a"])({},this.newOrder)}},props:["newOrder"]};se.render=le;var de=se,ie=a("15b0"),ne=null,be=null,oe="pingu",Oe="https://dev-vue-course-api.hexschool.io/api",je={data:function(){return{alertTitle:"",alertMessage:"",orders:[],newOrder:{},pagination:{}}},mounted:function(){ne=new h["a"](this.$refs.orderModal),be=new h["a"](this.$refs.errorModal)},created:function(){this.getOrders()},components:{pageNavigation:x["a"],orderDetailModal:de,errorAlertModal:ie["a"]},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat(Oe,"/").concat(oe,"/admin/orders?page=").concat(t);m.a.get(a).then((function(t){t.data.success?(e.orders=t.data.orders,e.pagination=t.data.pagination):e.openModal("error",t.data.message,0)})).catch((function(t){e.openModal("error",0,t.message)}))},openModal:function(e,t,a){switch(this.alertMessage=t,e){case"detail":this.newOrder=Object(u["a"])({},a),ne.show();break;case"error":be.show();break;default:break}}}};je.render=f;t["default"]=je},b0c0:function(e,t,a){var r=a("83ab"),c=a("9bf2").f,l=Function.prototype,s=l.toString,d=/^\s*function ([^ (]*)/,i="name";r&&!(i in l)&&c(l,i,{configurable:!0,get:function(){try{return s.call(this).match(d)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-0fc03156.ab52dc73.js.map